specVersion: 0.0.2
description: Tradegen is a decentralized asset management and algo trading platform on Celo.
repository: https://github.com/Tradegen/tradegen-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: PoolFactory
    network: celo
    source:
      address: "0xC71Ff58Efa2bffaE0f120BbfD7C64893aA20bDE0"
      abi: PoolFactory
      startBlock: 6944644
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/PoolFactory.ts
      entities:
        - Pool
      abis:
        - name: PoolFactory
          file: ./abis/PoolFactory.json
      eventHandlers:
        - event: CreatedPool(indexed address,indexed address,address,uint256, uint256)
          handler: handleNewPool
  - kind: ethereum/contract
    name: NFTPoolFactory
    network: celo
    source:
      address: "0x2dB13ac7A21F42bcAaFC71C1f1F8c647AEBC9750"
      abi: NFTPoolFactory
      startBlock: 6993722
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/NFTPoolFactory.ts
      entities:
        - NFTPool
      abis:
        - name: NFTPoolFactory
          file: ./abis/NFTPoolFactory.json
      eventHandlers:
        - event: CreatedNFTPool(indexed address,indexed address,address,uint256,uint256)
          handler: handleNewNFTPool
templates:
  - kind: ethereum/contract
    name: Pool
    network: celo
    source:
      abi: Pool
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/Pool.ts
      entities:
        - Pool
      abis:
        - name: Pool
          file: ./abis/Pool.json
      eventHandlers:
        - event: Deposit(indexed address,indexed address,uint256,uint256)
          handler: handleDeposit
        - event: Withdraw(indexed address,indexed address,uint256,uint256,address[],uint256[],uint256)
          handler: handleWithdraw
        - event: MintedManagerFee(indexed address,indexed address,uint256,uint256)
          handler: handleMintedManagerFee
      callHandlers:
        - function: executeTransaction(address,bytes)
          handler: handleExecuteTransaction
  - kind: ethereum/contract
    name: NFTPool
    network: celo
    source:
      abi: NFTPool
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/NFTPool.ts
      entities:
        - NFTPool
      abis:
        - name: NFTPool
          file: ./abis/NFTPool.json
      eventHandlers:
        - event: Deposit(indexed address,indexed address,uint256,uint256,uint256)
          handler: handleDeposit
        - event: Withdraw(indexed address,indexed address,uint256,uint256,address[],uint256[],uint256)
          handler: handleWithdraw
      callHandlers:
        - function: executeTransaction(address,bytes)
          handler: handleExecuteTransaction
